{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap c67eb28bfb2aa8fa695e","webpack:///./src/ripple.vue","webpack:///./src/ripple.vue?80fc","webpack:///ripple.vue","webpack:///external \"Vue\"","webpack:///./~/better-raf/dist/raf.js","webpack:///./src/ripple.vue?94cd"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA,sBAAoF;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gGAA+F;AAC/F;AACA,aAAiB,cAAc;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,EAAC,I;;;;;;ACvBD,0C;;;;;;;;;;;;;ACUA;;;;AACA;;;;;;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,yBACA;;SAGA;;2BACA;4EACA;6EACA;wEACA;2EACA;qEACA;yEAEA;;wBACA;sDACA;+HAGA;;sBACA;uHACA;6BACA;AACA;AAEA;;;;;2CAGA;oCACA;AAEA;;AACA;;oCACA;iBACA;AACA;AAEA;yCAEA;yBACA;oBACA;AAIA;AAlBA;AADA;;;;sBAuBA;gBAGA;AAJA;;;aASA;AAJA;AANA;;yBAWA;;iBAGA;;;oBAIA;AAHA;;;0BAKA;kBACA;gBACA;iBACA;oBAGA;AAPA;AAPA;AAgBA;;;2CAEA;2FACA;AAEA;iDACA;iCACA;gBACA;AACA;0BACA;cACA;AAEA;mDACA;YACA;uBACA;AAEA;wCACA;sEACA;eACA;AACA;gCACA;AAEA;;AACA;;oCACA;AACA;AAEA;;uCAEA;iCACA;AACA;AACA;AAEA;;+BAGA;;kEACA;kEAEA;;gDACA;gDAGA;;6GACA;6BAEA;;uBAEA;;kCAEA;;;uBAEA;+BACA;gBACA;iBACA;yEAGA;AAPA;;6CAQA;gBACA;AACA;AAEA;AAlEA;AAxEA,G;;;;;;ACrBA,gD;;;;;;ACAA,gBAAe,+HAA2K,iBAAiB,mBAAmB,cAAc,4BAA4B,YAAY,UAAU,iBAAiB,gEAAgE,SAAS,+BAA+B,kBAAkB,aAAa,cAAc,kDAAkD,YAAY,UAAU,mQAAmQ,2FAA2F,cAAc,2BAA2B,yMAAyM,cAAc,WAAW,sBAAsB,UAAU,IAAI,aAAa,YAAY,gEAAgE,0BAA0B,6CAA6C,wCAAwC,qEAAqE,wCAAwC,uFAAuF,WAAW,oIAAoI,uBAAuB,4CAA4C,2CAA2C,oCAAoC,8CAA8C,gFAAgF,aAAa,eAAe,aAAa,QAAQ,aAAa,mDAAmD,oCAAoC,cAAc,WAAW,0CAA0C,qCAAqC,OAAO,yCAAyC,eAAe,aAAa,aAAa,wCAAwC,aAAa,yDAAyD,UAAU,YAAY,GAAG;AACj6E,gC;;;;;;ACDA,0S","file":"ripple.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"Vue\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"Vue\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"VueHaruRipple\"] = factory(require(\"Vue\"));\n\telse\n\t\troot[\"VueHaruRipple\"] = factory(root[\"Vue\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_4__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap c67eb28bfb2aa8fa695e\n **/","var __vue_script__, __vue_template__\nrequire(\"!!./../node_modules/extract-text-webpack-plugin/loader.js?{\\\"remove\\\":true}!css!./../node_modules/vue-loader/lib/style-rewriter.js?id=_v-1da45bca&scoped=true!stylus!./../node_modules/vue-loader/lib/selector.js?type=style&index=0!./ripple.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../node_modules/vue-loader/lib/selector.js?type=script&index=0!./ripple.vue\")\nif (__vue_script__ &&\n    __vue_script__.__esModule &&\n    Object.keys(__vue_script__).length > 1) {\n  console.warn(\"[vue-loader] src/ripple.vue: named exports in *.vue files are ignored.\")}\n__vue_template__ = require(\"!!vue-html-loader!./../node_modules/vue-loader/lib/template-rewriter.js?id=_v-1da45bca!./../node_modules/vue-loader/lib/selector.js?type=template&index=0!./ripple.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\nif (module.hot) {(function () {  module.hot.accept()\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  var id = \"./ripple.vue\"\n  if (!module.hot.data) {\n    hotAPI.createRecord(id, module.exports)\n  } else {\n    hotAPI.update(id, module.exports, __vue_template__)\n  }\n})()}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/ripple.vue\n ** module id = 0\n ** module chunks = 0\n **/","// removed by extract-text-webpack-plugin\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/extract-text-webpack-plugin/loader.js?{\"remove\":true}!./~/css-loader!./~/vue-loader/lib/style-rewriter.js?id=_v-1da45bca&scoped=true!./~/stylus-loader!./~/vue-loader/lib/selector.js?type=style&index=0!./src/ripple.vue\n ** module id = 1\n ** module chunks = 0\n **/","<template>\n  <div class=\"haru-ripple\">\n    <div v-el:content>\n      <slot></slot>\n    </div>\n    <div v-show=\"showWave\" class=\"wave\" :class=\"waveClass\" :style=\"waveStyle\" transition=\"spread\"></div>\n  </div>\n</template>\n\n<script>\n  import Vue from 'vue';\n  import Raf from 'better-raf';\n  let raf = Raf();\n  let vueUtil = Vue.util;\n  let sqrt = Math.sqrt;\n  let round = Math.round;\n  const INITIAL_SCALE = 0.001;\n  const FINAL_SCALE = 1;\n  // used to handle downActions triggered within one animation frame time\n  const FRAME_CHECK_COUNT = 1;\n  export default {\n    name: 'vue-haru-ripple',\n\n    ready() {\n      vueUtil.on(this.$el, 'mousedown', vueUtil.bind(this.downAction, this), false);\n      vueUtil.on(this.$el, 'touchstart', vueUtil.bind(this.downAction, this), false);\n      vueUtil.on(this.$el, 'mouseup', vueUtil.bind(this.upAction, this), false);\n      vueUtil.on(this.$el, 'mouseleave', vueUtil.bind(this.upAction, this), false);\n      vueUtil.on(this.$el, 'blur', vueUtil.bind(this.upAction, this), false);\n      vueUtil.on(this.$el, 'touchend', vueUtil.bind(this.upAction, this), false);\n\n      this._frameCount = 0;\n      let boundingRect = this._boundingRect = this.$el.getBoundingClientRect();\n      this._rippleSize = round(sqrt(boundingRect.width * boundingRect.width + boundingRect.height * boundingRect.height) * 2) + 2;\n\n      // not pass color prop\n      if (!this.color) {\n        let color = this.$els.content.firstElementChild && window.getComputedStyle(this.$els.content.firstElementChild).color;\n        this.color = color || '#fff';\n      }\n    },\n\n    transitions: {\n      spread: {\n        beforeEnter() {\n          this.waveClass.animating = true;\n        },\n\n        enter() {\n          this.$nextTick(() => {\n            this.setWaveStyle();\n          });\n        },\n\n        afterEnter() {\n          // leave, afterLeave hooks not bound\n          this.showWave = false;\n          this.$emit('disappear');\n        }\n      }\n    },\n\n    props: {\n      // initial opacity\n      opacity: {\n        type: Number | String,\n        default: 0.3\n      },\n      // support rgba?\n      color: {\n        type: String\n      }\n    },\n\n    data: function () {\n      return {\n        showWave: false,\n\n        waveClass: {\n          animating: false\n        },\n\n        waveStyle: {\n          backgroundColor: '',\n          opacity: '',\n          width: '',\n          height: '',\n          transform: ''\n        }\n      };\n    },\n\n    methods: {\n      setWaveStyle() {\n        this.waveStyle.transform = `${this._rippleTranslate} scale(${FINAL_SCALE}, ${FINAL_SCALE})`;\n      },\n\n      frameCountCheck() {\n        if (this._frameCount > 0) {\n          return false;\n        }\n        this._frameCount = FRAME_CHECK_COUNT;\n        return true;\n      },\n\n      animFrameHandler() {\n        this._frameCount--;\n        this.showWave = true;\n      },\n\n      upAction(event) {\n        if (event.type === 'touchend' || event.type === 'touchcancel') {\n          event.preventDefault();\n        }\n        this.waveStyle.opacity = 0;\n      },\n\n      downAction(event) {\n        if (!this.frameCountCheck()) {\n          return;\n        }\n\n        if (event.type === 'mousedown') {\n          // only left mouse button\n          if (event.button !== 0) {\n            return;\n          }\n        }\n\n        let boundingRect = this._boundingRect;\n\n        // mousedown or touchstart x, y\n        let downX = event.touches ? event.touches[0].pageX : event.clientX;\n        let downY = event.touches ? event.touches[0].pageY : event.clientX;\n\n        let rippleX = round(downX - boundingRect.left);\n        let rippleY = round(downY - boundingRect.top);\n\n        // ripple max diameter\n        let rippleTranslate = this._rippleTranslate = `translate(-50%, -50%) translate(${rippleX}px, ${rippleY}px)`;\n        let rippleSize = this._rippleSize;\n\n        this.showWave = false;\n        // prev ripple vanish immediately, so need class 'animating'\n        this.waveClass.animating = false;\n\n        this.waveStyle = {\n          opacity: this.opacity,\n          backgroundColor: this.color,\n          width: `${rippleSize}px`,\n          height: `${rippleSize}px`,\n          transform: `${rippleTranslate} scale(${INITIAL_SCALE}, ${INITIAL_SCALE})`\n        };\n\n        raf.requestAnimationFrame(() => {\n          this.animFrameHandler();\n        });\n      }\n    }\n  };\n</script>\n\n<style lang=\"stylus\" scoped>\n  .haru-ripple\n    position: relative\n    overflow: hidden\n\n    .wave\n      pointer-events: none\n      position: absolute\n      top: 0\n      left: 0\n      width: 100%\n      height: 100%\n      border-radius: 50%\n\n    .animating.spread-transition\n      transition: transform 0.3s cubic-bezier(0, 0, 0.2, 1), opacity 0.6s cubic-bezier(0, 0, 0.2, 1)\n</style>\n\n\n\n/** WEBPACK FOOTER **\n ** ripple.vue?5a2c4e80\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"Vue\"\n ** module id = 4\n ** module chunks = 0\n **/","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.raf=e():t.raf=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var a=i[n]={exports:{},id:n,loaded:!1};return t[n].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var i={};return e.m=t,e.c=i,e.p=\"\",e(0)}([function(t,e,i){\"use strict\";function n(t){return this instanceof n?(\"number\"==typeof t&&(t={frameRate:t}),t||(t={}),t.useNative!==!1&&(t.useNative=!0),this.options=t,this.frameRate=t.frameRate||n.DEFAULT_FRAMERATE,this.frameLength=1e3/this.frameRate,this._isCustomFrameRate=this.frameRate!==n.DEFAULT_FRAMERATE,this._lastTickTime=0,this._tickCount=0,this._currentKeymaps={},this.keymapsSize=0,this._delaying=!1,void(this.boundDelayCallback=a.bind(this))):new n(t)}function a(t){var e,i=this._lastTickTime;return t=t||0,0===i&&(this._lastTickTime=i=t),e=this.frameLength-(t-i),e<=0&&(this._lastTickTime=t+e,e=0),this.options.useNative?void(0===e?o.call(this):u(this.boundDelayCallback)):void s.call(this,e)}function s(t){var e=this;setTimeout(function(){o.call(e)},t)}function o(){var t,e,i,n;this._delaying=!1,t=this._currentKeymaps,this._currentKeymaps={},this.keymapsSize=0,e=c();for(i in t)n=t[i],n.cancelled||n.callback(e)}var r=i(1),c=i(2),u=r&&r.raf,f=r&&r.caf;n.DEFAULT_FRAMERATE=60,n.prototype.requestAnimationFrame=function(t){if(!this._isCustomFrameRate)return u(t);if(\"function\"!=typeof t)throw new TypeError(\"arguments should be a callback function\");var e=this;return this._tickCount++,this._delaying||(this._delaying=!0,this.options.useNative?u(this.boundDelayCallback):setTimeout(function(){e.boundDelayCallback()},0)),this._currentKeymaps[this._tickCount]={id:this._tickCount,callback:t,cancelled:!1},++this.keymapsSize,this._tickCount},n.prototype.cancelAnimationFrame=function(t){this._isCustomFrameRate||f(t),delete this._currentKeymaps[t],--this.keymapsSize},t.exports=n},function(t,e){\"use strict\";var i,n;!function(t){i=t.requestAnimationFrame,n=t.cancelAnimationFrame;var e,a,s=[\"webkit\",\"moz\",\"o\",\"ms\"];if(!i)for(a=0;a<s.length;a++)if(e=t[s[a]+\"RequestAnimationFrame\"]){i=e,n=t[s[a]+\"CancelAnimationFrame\"];break}}(window),t.exports.raf=i,t.exports.caf=n},function(t,e){\"use strict\";function i(){return Date.now()||(new Date).getTime()}function n(){return window.performance?window.performance.now():i()-a}var a=i();t.exports=n}])});\n//# sourceMappingURL=raf.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/better-raf/dist/raf.js\n ** module id = 5\n ** module chunks = 0\n **/","module.exports = \"\\n<div class=\\\"haru-ripple\\\" _v-1da45bca=\\\"\\\">\\n  <div v-el:content=\\\"\\\" _v-1da45bca=\\\"\\\">\\n    <slot _v-1da45bca=\\\"\\\"></slot>\\n  </div>\\n  <div v-show=\\\"showWave\\\" class=\\\"wave\\\" :class=\\\"waveClass\\\" :style=\\\"waveStyle\\\" transition=\\\"spread\\\" _v-1da45bca=\\\"\\\"></div>\\n</div>\\n\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/template-rewriter.js?id=_v-1da45bca!./~/vue-loader/lib/selector.js?type=template&index=0!./src/ripple.vue\n ** module id = 6\n ** module chunks = 0\n **/"],"sourceRoot":""}
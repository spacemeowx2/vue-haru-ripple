{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap cdbaa96ba8dbc2bcecb1","webpack:///./src/ripple.vue","webpack:///./src/ripple.vue?0090","webpack:///ripple.vue","webpack:///external \"Vue\"","webpack:///./src/rippleWave.vue","webpack:///./src/rippleWave.vue?632e","webpack:///rippleWave.vue","webpack:///./src/rippleWave.vue?a3f8","webpack:///./src/ripple.vue?d7c7"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA,sBAAoF;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gGAA+F;AAC/F;AACA,aAAiB,cAAc;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,EAAC,I;;;;;;ACvBD,0C;;;;;;;;;;;;;ACYA;;;;AACA;;;;;;AAEA;AACA;AACA;AACA;;AAEA,kCACA;kDAEA;;kBACA;;;AAEA;+CAEA;2DACA;AAGA;AALA;;;SAQA;;iBAEA;;2BACA;4EAEA;;4CACA;AAEA;;;;;aAGA;gBAGA;AAJA;;;aAMA;gBAIA;AALA;AANA;;yBAYA;;gBAIA;;;0BAEA;kBAGA;AAJA;AAHA;AASA;;;4CAEA;kBAEA;;;kBAEA;kBACA;uBAGA;AALA;;;+BAOA;uBAGA;AAJA;;yBAKA;AAEA;oCACA;uBACA;WACA;WACA;sBACA;2DACA;wBACA;AACA;YAEA;;yBACA;;4BAEA;oBAEA;AAHA;AAIA;AAEA;AAnCA;AAnCA,G;;;;;;ACjCA,gD;;;;;;ACAA;AACA,sBAAoF;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gGAA+F;AAC/F;AACA,aAAiB,cAAc;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,EAAC,I;;;;;;ACvBD,0C;;;;;;;;;;;;ACMA;AACA;;AAEA;AACA;AACA;AACA,qBAEA;;;;qBAIA;;;;;AAGA;;oCACA;+DACA;AACA;AAEA;;yCACA;kCACA;wCACA;AAIA;AAbA;AADA;;yBAeA;+BACA;gCACA;gDACA;gDAGA;;qHACA;oFAEA;;;;kBAGA;0BACA;uBACA;wBACA;8EAGA;AAPA;AADA;AASA;AArCA,G;;;;;;AChBA,8F;;;;;;ACAA,2S","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"Vue\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"Vue\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"VueHaruRipple\"] = factory(require(\"Vue\"));\n\telse\n\t\troot[\"VueHaruRipple\"] = factory(root[\"Vue\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_4__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap cdbaa96ba8dbc2bcecb1\n **/","var __vue_script__, __vue_template__\nrequire(\"!!./../node_modules/extract-text-webpack-plugin/loader.js?{\\\"remove\\\":true}!css!./../node_modules/vue-loader/lib/style-rewriter.js!stylus!./../node_modules/vue-loader/lib/selector.js?type=style&index=0!./ripple.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../node_modules/vue-loader/lib/selector.js?type=script&index=0!./ripple.vue\")\nif (__vue_script__ &&\n    __vue_script__.__esModule &&\n    Object.keys(__vue_script__).length > 1) {\n  console.warn(\"[vue-loader] src/ripple.vue: named exports in *.vue files are ignored.\")}\n__vue_template__ = require(\"!!vue-html-loader!./../node_modules/vue-loader/lib/selector.js?type=template&index=0!./ripple.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\nif (module.hot) {(function () {  module.hot.accept()\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  var id = \"./ripple.vue\"\n  if (!module.hot.data) {\n    hotAPI.createRecord(id, module.exports)\n  } else {\n    hotAPI.update(id, module.exports, __vue_template__)\n  }\n})()}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/ripple.vue\n ** module id = 0\n ** module chunks = 0\n **/","// removed by extract-text-webpack-plugin\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/extract-text-webpack-plugin/loader.js?{\"remove\":true}!./~/css-loader!./~/vue-loader/lib/style-rewriter.js!./~/stylus-loader!./~/vue-loader/lib/selector.js?type=style&index=0!./src/ripple.vue\n ** module id = 1\n ** module chunks = 0\n **/","<template>\n  <div class=\"haru-ripple\">\n    <slot></slot>\n    <div class=\"background\" :style=\"waveBgStyle\"></div>\n    <div class=\"waves\">\n      <ripple-wave v-for=\"ripple in ripples\" :ripple=\"ripple\" :index=\"$index\" @after-enter=\"vanish\">\n      </ripple-wave>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Vue from 'vue';\nimport rippleWave from './rippleWave'\n\nlet vueUtil = Vue.util;\nlet max = Math.max;\nlet sqrt = Math.sqrt;\nlet ceil = Math.ceil;\n\nfunction ElementMetrics(element) {\n  var boundingRect = this.boundingRect = element.getBoundingClientRect();\n\n  this.element = element;\n}\n\nElementMetrics.prototype = {\n  distance: function(x1, y1, x2, y2) {\n    return sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1));\n  }\n};\n\nexport default {\n  name: 'vue-haru-ripple',\n\n  components: { rippleWave },\n\n  ready() {\n    vueUtil.on(this.$el, 'mousedown', vueUtil.bind(this.downAction, this), false);\n    \n    this.metrics = new ElementMetrics(this.$el);\n  },\n\n  props: {\n    initialOpacity: {\n      type: Number,\n      default: 0.3\n    },\n\n    color: {\n      type: String,\n      default: 'green'\n    }\n  },\n\n  data: function() {\n    return {\n      // a list of the ripple\n      ripples: [],\n\n      waveBgStyle: {\n        backgroundColor: '',\n        opacity: ''\n      }\n    };\n  },\n\n  methods: {\n    downAction(event) {\n      let self = this;\n      // ripple related params\n      let ripple = {\n        x: event.clientX,\n        y: event.clientY,\n        metrics: this.metrics\n      };\n\n      this.waveBgStyle = {\n        backgroundColor: this.color,\n        opacity: this.initialOpacity\n      };\n      \n      this.ripples.push(ripple);\n    },\n\n    vanish(index) {\n      let list = this.ripples;\n      let i;\n      let k;\n      let len = list.length;\n      for (i = index, k = i + 1; k < len; i += 1, k += 1) {\n        list[i] = list[k];\n      }\n      list.pop();\n\n      if (!list.length) {\n        this.waveBgStyle = {\n          backgroundColor: '',\n          opacity: ''\n        };\n      }\n    }\n  }\n};\n</script>\n\n<style lang=\"stylus\">\n.haru-ripple\n  position: relative\n    \n  .background, .waves, .wave\n    pointer-events: none\n    position: absolute\n    top: 0\n    left: 0\n    width: 100%\n    height: 100%\n  \n  .waves\n    overflow: hidden\n  \n  .wave\n    border-radius: 50% \n</style>\n\n\n/** WEBPACK FOOTER **\n ** ripple.vue?e798d7f0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"Vue\"\n ** module id = 4\n ** module chunks = 0\n **/","var __vue_script__, __vue_template__\nrequire(\"!!./../node_modules/extract-text-webpack-plugin/loader.js?{\\\"remove\\\":true}!css!./../node_modules/vue-loader/lib/style-rewriter.js!stylus!./../node_modules/vue-loader/lib/selector.js?type=style&index=0!./rippleWave.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../node_modules/vue-loader/lib/selector.js?type=script&index=0!./rippleWave.vue\")\nif (__vue_script__ &&\n    __vue_script__.__esModule &&\n    Object.keys(__vue_script__).length > 1) {\n  console.warn(\"[vue-loader] src/rippleWave.vue: named exports in *.vue files are ignored.\")}\n__vue_template__ = require(\"!!vue-html-loader!./../node_modules/vue-loader/lib/selector.js?type=template&index=0!./rippleWave.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\nif (module.hot) {(function () {  module.hot.accept()\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  var id = \"./rippleWave.vue\"\n  if (!module.hot.data) {\n    hotAPI.createRecord(id, module.exports)\n  } else {\n    hotAPI.update(id, module.exports, __vue_template__)\n  }\n})()}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/rippleWave.vue\n ** module id = 5\n ** module chunks = 0\n **/","// removed by extract-text-webpack-plugin\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/extract-text-webpack-plugin/loader.js?{\"remove\":true}!./~/css-loader!./~/vue-loader/lib/style-rewriter.js!./~/stylus-loader!./~/vue-loader/lib/selector.js?type=style&index=0!./src/rippleWave.vue\n ** module id = 6\n ** module chunks = 0\n **/","<template>\n  <div class=\"wave\" :style=\"waveStyle\" transition=\"fade\">\n  </div>\n</template>\n\n<script>\nlet max = Math.max;\nlet ceil = Math.ceil;\n\nconst INITIAL_SCALE = 0.0001;\nconst INITIAL_OPACITY = 0.3;\nconst FINAL_SCALE = 1;\nconst FINAL_OPACITY = 0;\n\nexport default {\n\n  props: ['ripple', 'index'],\n\n  transitions: {\n    'fade': {\n      enter: function(el) {\n        this.$nextTick(() => {\n          this.waveStyle.transform = this.translateString + ' scale(1, 1)';\n        });\n      },\n\n      afterEnter: function() {\n        this.waveStyle.opacity = 0;\n        this.$emit('after-enter', this.index);\n      }\n    }\n  },\n\n  data() {\n    let metrics = this.ripple.metrics;\n    let boundingRect = metrics.boundingRect;\n    let rippleX = this.ripple.x - boundingRect.left;\n    let rippleY = this.ripple.y - boundingRect.top;\n    \n    // max diameter\n    let size = Math.sqrt(boundingRect.width * boundingRect.width + boundingRect.height * boundingRect.height) * 2 + 2;\n    this.translateString = `translate(-50%, -50%) translate(${rippleX}px, ${rippleY}px)`;\n\n    return {\n      waveStyle: {\n        opacity: INITIAL_OPACITY,\n        backgroundColor: 'green',\n        width: size + 'px',\n        height: size + 'px',\n        transform: `${this.translateString} scale(${INITIAL_SCALE}, ${INITIAL_SCALE})`\n      }\n    };\n  }\n};\n</script>\n\n<style lang=\"stylus\">\n.fade-transition\n  transition: transform 0.6s cubic-bezier(0, 0, 0.2, 1), opacity 0.6s cubic-bezier(0, 0, 0.2, 1) \n</style>\n\n\n\n\n/** WEBPACK FOOTER **\n ** rippleWave.vue?25d47fcd\n **/","module.exports = \"\\n<div class=\\\"wave\\\" :style=\\\"waveStyle\\\" transition=\\\"fade\\\">\\n</div>\\n\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/rippleWave.vue\n ** module id = 8\n ** module chunks = 0\n **/","module.exports = \"\\n<div class=\\\"haru-ripple\\\">\\n  <slot></slot>\\n  <div class=\\\"background\\\" :style=\\\"waveBgStyle\\\"></div>\\n  <div class=\\\"waves\\\">\\n    <ripple-wave v-for=\\\"ripple in ripples\\\" :ripple=\\\"ripple\\\" :index=\\\"$index\\\" @after-enter=\\\"vanish\\\">\\n    </ripple-wave>\\n  </div>\\n</div>\\n\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/ripple.vue\n ** module id = 9\n ** module chunks = 0\n **/"],"sourceRoot":""}